2017-10-23 10:17:35.226   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/   
2017-10-23 10:17:35.404   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization failed for user: (null). 
 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'. 
2017-10-23 10:17:35.421   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was challenged. 
minSite) in 34.207ms 
2017-10-23 10:17:35.421   Information   Microsoft.AspNetCore.Mvc.ChallengeResult   Executing ChallengeResult with authentication schemes (). 
2017-10-23 10:17:35.435   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 309.3138ms 302  
ocalhost:27644/Account/Login?ReturnUrl=%2F   
2017-10-23 10:17:35.556   Information   Microsoft.EntityFrameworkCore.Infrastructure   Entity Framework Core 2.0.0-rtm-26452 initialized 'PermissionSystemContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: RowNumberPaging  
2017-10-23 10:17:35.577   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.AccountController.Login (AdminSite) with arguments (/) - ModelState is Valid 
2017-10-23 10:17:38.580   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2017-10-23 10:17:38.658   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executed action AdminSite.Controllers.AccountController.Login (AdminSite) in 3202.9579ms 
2017-10-23 10:17:38.670   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 3225.4768ms 200 text/html; charset=utf-8 
2017-10-23 10:17:38.686   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/lib/bootstrap/dist/js/bootstrap.min.js   

2017-10-23 10:17:38.689   Information   Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware   The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified 
2017-10-23 10:17:38.690   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 1.3816ms 304 application/javascript 
2017-10-23 10:17:38.708   Information   Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware   The file /assets/global/scripts/app.js was not modified 
 
2017-10-23 10:17:38.710   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/assets/pages/scripts/login-5.js   
2017-10-23 10:17:38.713   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/lib/jquery-validation/dist/additional-methods.min.js   
2017-10-23 10:17:38.713   Information   Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware   The file /lib/jquery-validation/dist/jquery.validate.min.js was not modified 
2017-10-23 10:17:38.713   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/assets/global/scripts/app.js   
2017-10-23 10:17:38.717   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 0.423ms 304 application/javascript 

2017-10-23 10:17:38.720   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/lib/jquery-validation/dist/jquery.validate.min.js   
2017-10-23 10:25:13.932   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 POST http://localhost:27644/Account/Login application/x-www-form-urlencoded 228 
2017-10-23 10:25:13.990   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.AccountController.Login (AdminSite) with arguments (ViewModels.AdminWeb.Login.LoginViewModel) - ModelState is Valid 
2017-10-23 10:25:14.256   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (43ms) [Parameters=[@__model_NormalizedLoginName_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessFailedCount], [a].[CreateDate], [a].[Email], [a].[EmailConfirmed], [a].[ImgUrl], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[LoginName], [a].[MobilePhone], [a].[MobilePhoneConfirmed], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedLoginName], [a].[OrganizationID], [a].[Password], [a].[PyCode], [a].[UpdateDate]
FROM [User] AS [a]
WHERE [a].[NormalizedLoginName] = @__model_NormalizedLoginName_0 
2017-10-23 10:25:14.321   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies signed in. 
2017-10-23 10:25:14.327   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 400.5505ms 302  
Controllers.AccountController.Login (AdminSite) in 385.7041ms 
2017-10-23 10:25:14.331   Information   Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor   Executing RedirectResult, redirecting to /. 
2017-10-23 10:25:14.338   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (4ms) [Parameters=[@__user_ID_0='?'], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[CreateDate], [a].[RoleID], [a].[UserID]
FROM [UserRole] AS [a]
WHERE [a].[UserID] = @__user_ID_0 
2017-10-23 10:25:14.373   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.HomeController.Index (AdminSite) with arguments ((null)) - ModelState is Valid 
2017-10-23 10:25:14.382   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 10:25:14.388   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/   
2017-10-23 10:25:14.597   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2017-10-23 10:25:19.047   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a]
WHERE ((1 & CASE
    WHEN UPPER([a].[ActionName]) = N'INDEX'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) & CASE
    WHEN UPPER([a].[ControllerName]) = N'HOME'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 10:25:19.105   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (6ms) [Parameters=[@__userID_0='?'], CommandType='Text', CommandTimeout='30']
SELECT DISTINCT [m].[ID], [m].[ActionName], [m].[ApplicationID], [m].[AreaName], [m].[Code], [m].[ControllerName], [m].[CreateDate], [m].[Description], [m].[IconCss], [m].[IsNav], [m].[Name], [m].[ParentID], [m].[PyCode], [m].[ShowIndex]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
2017-10-23 10:25:19.162   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[Code], [a].[CreateDate], [a].[Description], [a].[Name], [a].[PyCode], [a].[ShowIndex]
FROM [Application] AS [a] 
2017-10-23 10:25:19.385   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
2017-10-23 10:25:19.670   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 5304.6799ms 200 text/html; charset=utf-8 
r.Index (AdminSite) in 5302.0637ms 
2017-10-23 10:25:19.705   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/lib/icheck/skins/line/select.css   
2017-10-23 10:25:19.708   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 1.8056ms 304 text/css 
2017-10-23 10:25:19.813   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 0.8884ms 304 application/javascript 
dified 
2017-10-23 10:25:19.814   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/assets/layouts/layout/scripts/demo.js   
2017-10-23 10:25:19.817   Information   Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware   The file /assets/layouts/layout/scripts/demo.js was not modified 
2017-10-23 10:25:19.818   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/assets/global/scripts/menu.js   
2017-10-23 10:25:19.821   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 0.9281ms 304 application/javascript 
2017-10-23 11:11:45.187   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/Menu/Index   
2017-10-23 11:11:45.197   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 11:11:45.216   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.MenuController.Index (AdminSite) with arguments (1) - ModelState is Valid 
2017-10-23 11:11:45.217   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
2017-10-23 11:11:45.305   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (12ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='Text', CommandTimeout='30']
SELECT [t].[ID], [t].[ApplicationName], [t].[ActionName], [t].[ApplicationID], [t].[PyCode], [t].[Code], [t].[ControllerName], [t].[CreateDate], [t].[Description], [t].[IconCss], [t].[IsNav], [t].[Name], [t].[ShowIndex], [t].[ParentID], [t].[ParentMenuName]
FROM (
    SELECT [n].[ID], [n.ApplicationID_Model].[Name] AS [ApplicationName], [n].[ActionName], [n].[ApplicationID], [n].[PyCode], [n].[Code], [n].[ControllerName], [n].[CreateDate], [n].[Description], [n].[IconCss], [n].[IsNav], [n].[Name], [n].[ShowIndex], [n].[ParentID], CASE
        WHEN [n].[ParentID] = '00000000-0000-0000-0000-000000000000'
        THEN N'--根目录--' ELSE (
            SELECT TOP(1) [a].[Name]
            FROM [Menu] AS [a]
            WHERE [a].[ID] = [n].[ParentID]
        )
    END AS [ParentMenuName], ROW_NUMBER() OVER(ORDER BY [n].[ShowIndex]) AS [__RowNumber__]
    FROM [Menu] AS [n]
    INNER JOIN [Application] AS [n.ApplicationID_Model] ON [n].[ApplicationID] = [n.ApplicationID_Model].[ID]
) AS [t]
WHERE ([t].[__RowNumber__] > @__p_0) AND ([t].[__RowNumber__] <= (@__p_0 + @__p_1)) 
2017-10-23 11:11:45.334   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Menu] AS [n]
INNER JOIN [Application] AS [n.ApplicationID_Model] ON [n].[ApplicationID] = [n.ApplicationID_Model].[ID] 
2017-10-23 11:11:45.872   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/Menu/Index.cshtml. 
2017-10-23 11:11:46.436   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[Code], [a].[CreateDate], [a].[Description], [a].[Name], [a].[PyCode], [a].[ShowIndex]
FROM [Application] AS [a] 
2017-10-23 11:11:46.436   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (6ms) [Parameters=[@__userID_0='?'], CommandType='Text', CommandTimeout='30']
SELECT DISTINCT [m].[ID], [m].[ActionName], [m].[ApplicationID], [m].[AreaName], [m].[Code], [m].[ControllerName], [m].[CreateDate], [m].[Description], [m].[IconCss], [m].[IsNav], [m].[Name], [m].[ParentID], [m].[PyCode], [m].[ShowIndex]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 11:11:46.449   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 1260.1669ms 200 text/html; charset=utf-8 
r.Index (AdminSite) in 1234.7278ms 
 [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
2017-10-23 11:11:46.706   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 POST http://localhost:27644/Menu/QueryJson application/x-www-form-urlencoded; charset=UTF-8 10 
tion   Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor   Executing JsonResult, writing value System.Collections.Generic.List`1[<>f__AnonymousType1`4[System.Guid,System.Guid,System.String,System.Boolean]]. 
2017-10-23 11:11:46.716   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (1ms) [Parameters=[@__isNav_Value_0='?'], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ParentID] AS [pId], [a].[Name]
FROM [Menu] AS [a]
WHERE [a].[IsNav] = @__isNav_Value_0 
2017-10-23 11:11:46.725   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executed action AdminSite.Controllers.MenuController.QueryJson (AdminSite) in 78.2306ms 
2017-10-23 11:11:49.057   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 11:11:49.072   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
2017-10-23 11:11:49.072   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.ApiResourcesController.Index (AdminSite) with arguments ((null)) - ModelState is Valid 
2017-10-23 11:11:49.209   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/ApiResources/Index.cshtml. 
a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a]
WHERE ((1 & CASE
    WHEN UPPER([a].[ActionName]) = N'INDEX'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) & CASE
    WHEN UPPER([a].[ControllerName]) = N'APIRESOURCES'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 11:11:49.227   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 163.8277ms 200 text/html; charset=utf-8 
CommandTimeout='30']
SELECT [a].[ID], [a].[Code], [a].[CreateDate], [a].[Description], [a].[Name], [a].[PyCode], [a].[ShowIndex]
FROM [Application] AS [a] 
2017-10-23 11:11:49.229   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
2017-10-23 11:11:53.374   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 11:11:53.375   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
2017-10-23 11:11:53.375   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/Menu/Index   
2017-10-23 11:11:53.388   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 13.9467ms 200 text/html; charset=utf-8 
 CommandTimeout='30']
SELECT COUNT(*)
FROM [Menu] AS [n]
INNER JOIN [Application] AS [n.ApplicationID_Model] ON [n].[ApplicationID] = [n.ApplicationID_Model].[ID] 
2017-10-23 11:11:53.389   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[@__userID_0='?'], CommandType='Text', CommandTimeout='30']
SELECT DISTINCT [m].[ID], [m].[ActionName], [m].[ApplicationID], [m].[AreaName], [m].[Code], [m].[ControllerName], [m].[CreateDate], [m].[Description], [m].[IconCss], [m].[IsNav], [m].[Name], [m].[ParentID], [m].[PyCode], [m].[ShowIndex]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
, [n].[CreateDate], [n].[Description], [n].[IconCss], [n].[IsNav], [n].[Name], [n].[ShowIndex], [n].[ParentID], CASE
        WHEN [n].[ParentID] = '00000000-0000-0000-0000-000000000000'
        THEN N'--根目录--' ELSE (
            SELECT TOP(1) [a].[Name]
            FROM [Menu] AS [a]
            WHERE [a].[ID] = [n].[ParentID]
        )
    END AS [ParentMenuName], ROW_NUMBER() OVER(ORDER BY [n].[ShowIndex]) AS [__RowNumber__]
    FROM [Menu] AS [n]
    INNER JOIN [Application] AS [n.ApplicationID_Model] ON [n].[ApplicationID] = [n.ApplicationID_Model].[ID]
) AS [t]
WHERE ([t].[__RowNumber__] > @__p_0) AND ([t].[__RowNumber__] <= (@__p_0 + @__p_1)) 
2017-10-23 11:11:53.390   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
2017-10-23 11:11:53.393   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/Menu/Index.cshtml. 
with arguments (1) - ModelState is Valid 
2017-10-23 11:11:53.393   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executed action AdminSite.Controllers.MenuController.Index (AdminSite) in 12.8922ms 
[a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a]
WHERE ((1 & CASE
    WHEN UPPER([a].[ActionName]) = N'INDEX'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) & CASE
    WHEN UPPER([a].[ControllerName]) = N'MENU'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 11:11:53.397   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[Code], [a].[CreateDate], [a].[Description], [a].[Name], [a].[PyCode], [a].[ShowIndex]
FROM [Application] AS [a] 
2017-10-23 11:11:53.471   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 11:11:53.471   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 3.5619ms 200 application/json; charset=utf-8 
2017-10-23 11:11:53.472   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 POST http://localhost:27644/Menu/QueryJson application/x-www-form-urlencoded; charset=UTF-8 10 
2017-10-23 11:11:53.473   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executed action AdminSite.Controllers.MenuController.QueryJson (AdminSite) in 2.4372ms 
2017-10-23 11:11:53.474   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ParentID] AS [pId], [a].[Name]
FROM [Menu] AS [a]
WHERE [a].[IsNav] = @__isNav_Value_0 
2017-10-23 11:11:53.475   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.MenuController.QueryJson (AdminSite) with arguments (, True) - ModelState is Valid 
2017-10-23 11:11:53.475   Information   Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.JsonResultExecutor   Executing JsonResult, writing value System.Collections.Generic.List`1[<>f__AnonymousType1`4[System.Guid,System.Guid,System.String,System.Boolean]]. 
2017-10-23 11:12:07.481   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
2017-10-23 11:12:07.488   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[Code], [a].[CreateDate], [a].[Description], [a].[Name], [a].[PyCode], [a].[ShowIndex]
FROM [Application] AS [a] 
2017-10-23 11:12:07.488   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[@__userID_0='?'], CommandType='Text', CommandTimeout='30']
SELECT DISTINCT [m].[ID], [m].[ActionName], [m].[ApplicationID], [m].[AreaName], [m].[Code], [m].[ControllerName], [m].[CreateDate], [m].[Description], [m].[IconCss], [m].[IsNav], [m].[Name], [m].[ParentID], [m].[PyCode], [m].[ShowIndex]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
2017-10-23 11:12:07.488   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a]
WHERE ((1 & CASE
    WHEN UPPER([a].[ActionName]) = N'INDEX'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) & CASE
    WHEN UPPER([a].[ControllerName]) = N'APIRESOURCES'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 11:12:07.496   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/ApiResources/Index.cshtml. 
2017-10-23 11:12:07.496   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.ApiResourcesController.Index (AdminSite) with arguments ((null)) - ModelState is Valid 
2017-10-23 11:12:07.497   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
2017-10-23 11:12:07.502   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 11:12:07.503   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/ApiResources/Index   
2017-10-23 11:12:08.402   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
Index (AdminSite) with arguments ((null)) - ModelState is Valid 
2017-10-23 11:12:08.545   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a]
WHERE ((1 & CASE
    WHEN UPPER([a].[ActionName]) = N'INDEX'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) & CASE
    WHEN UPPER([a].[ControllerName]) = N'CLIENT'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 11:12:08.545   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/Client/Index.cshtml. 
30']
SELECT DISTINCT [m].[ID], [m].[ActionName], [m].[ApplicationID], [m].[AreaName], [m].[Code], [m].[ControllerName], [m].[CreateDate], [m].[Description], [m].[IconCss], [m].[IsNav], [m].[Name], [m].[ParentID], [m].[PyCode], [m].[ShowIndex]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
2017-10-23 11:12:08.558   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 158.5312ms 200 text/html; charset=utf-8 
2017-10-23 11:12:08.558   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executed action AdminSite.Controllers.ClientController.Index (AdminSite) in 155.0311ms 
2017-10-23 11:12:08.558   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
2017-10-23 11:12:09.474   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a] 
2017-10-23 11:12:09.474   Information   Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor   Executing ViewResult, running view at path /Views/ApiResources/Index.cshtml. 
2017-10-23 11:12:09.475   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request finished in 8.8356ms 200 text/html; charset=utf-8 
2017-10-23 11:12:09.475   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[@__userID_0='?'], CommandType='Text', CommandTimeout='30']
SELECT DISTINCT [m].[ID], [m].[ActionName], [m].[ApplicationID], [m].[AreaName], [m].[Code], [m].[ControllerName], [m].[CreateDate], [m].[Description], [m].[IconCss], [m].[IsNav], [m].[Name], [m].[ParentID], [m].[PyCode], [m].[ShowIndex]
FROM [Menu] AS [m]
INNER JOIN [UserRoleJurisdiction] AS [urj] ON [m].[ID] = [urj].[MenuID]
INNER JOIN [UserRole] AS [ur] ON [urj].[RoleID] = [ur].[RoleID]
WHERE [ur].[UserID] = @__userID_0 
2017-10-23 11:12:09.477   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executing action method AdminSite.Controllers.ApiResourcesController.Index (AdminSite) with arguments ((null)) - ModelState is Valid 
2017-10-23 11:12:09.482   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[ActionName], [a].[ApplicationID], [a].[AreaName], [a].[Code], [a].[ControllerName], [a].[CreateDate], [a].[Description], [a].[IconCss], [a].[IsNav], [a].[Name], [a].[ParentID], [a].[PyCode], [a].[ShowIndex]
FROM [Menu] AS [a]
WHERE ((1 & CASE
    WHEN UPPER([a].[ActionName]) = N'INDEX'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) & CASE
    WHEN UPPER([a].[ControllerName]) = N'APIRESOURCES'
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END) = 1 
2017-10-23 11:12:09.482   Information   Microsoft.AspNetCore.Authorization.DefaultAuthorizationService   Authorization was successful for user: 超级管理员. 
2017-10-23 11:12:09.483   Information   Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler   AuthenticationScheme: Cookies was successfully authenticated. 
2017-10-23 11:12:09.484   Information   Microsoft.AspNetCore.Hosting.Internal.WebHost   Request starting HTTP/1.1 GET http://localhost:27644/ApiResources/Index   
2017-10-23 11:12:09.485   Information   Microsoft.EntityFrameworkCore.Database.Command   Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[ID], [a].[Code], [a].[CreateDate], [a].[Description], [a].[Name], [a].[PyCode], [a].[ShowIndex]
FROM [Application] AS [a] 
2017-10-23 11:12:09.486   Information   Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker   Executed action AdminSite.Controllers.ApiResourcesController.Index (AdminSite) in 7.4982ms 
